<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
          "http://www.w3.org/TR/html4/strict.dtd">
<html>

<head>
  <title>Fewer States</title>
  <style>@import url(style.css);</style>
</head>

<body class="jdocu_main">
<script type="text/javascript">
parent.frames['toc'].d.openTo(26, true);
</script>
<a name="label42"></a><p class="jdocu_navbarp"><span class="jdocu_navbar">VIRTUTECH CONFIDENTIAL&nbsp;&nbsp;&nbsp;&nbsp;<a class="jdocu" href="topic11.html">Previous</a> - <a class="jdocu" href="topic11.html">Up</a> - <a class="jdocu" href="topic13.html">Next</a></span></p>
<h3 class="jdocu">6.1&nbsp;&nbsp;&nbsp;Fewer States</h3 class="jdocu">


<p>
   The device model can be simplified by reducing the number of states
   that the device can be in. Look for states that, from the
   software's perspective, are only there to optimize performance.
   Here are some examples:
   <ul>
   <li>SCSI devices can become disconnected, and when disconnected they
   behave differently than when connected.  In most cases, we can
   ignore the disconnected state, and let the device be connected all
   the time.</li>
<p>
   <li>Some network devices can be put in "early interrupt" mode, where
   interrupts are sent some time before a buffer fills up, to give the
   driver more time to handle the data.  It may be possible to ignore
   the early interrupt state, if the driver can handle the load
   anyway.  In this case, it is a good idea to warn the user when the
   driver tries to put the device in early interrupt mode.</li>
<p>
   <li>Some devices cache data to speed things up, and provide some means
   to query whether the cached value is valid.  The simplest way to
   model this is to ignore this state, and always report "no, the
   cache is not valid".</li>
   </ul>
<p class="jdocu_navbarp"><span class="jdocu_navbar">VIRTUTECH CONFIDENTIAL&nbsp;&nbsp;&nbsp;&nbsp;<a class="jdocu" href="topic11.html">Previous</a> - <a class="jdocu" href="topic11.html">Up</a> - <a class="jdocu" href="topic13.html">Next</a></span></p>
</body>
</html>
